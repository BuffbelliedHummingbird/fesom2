##########
module --force purge
module load Stages/2020
module load StdEnv
module load CMake

BUILDTYPE=$(echo "${COMPILER:-intel}" | tr '[:upper:]' '[:lower:]')

case "$BUILDTYPE" in
    intel)
        module load Intel/2020.2.254-GCC-9.3.0
        ;;
    gnu)
        module load GCC/9.3.0
        ;;
    pgi)
	module load  NVHPC/21.1-GCC-9.3.0
        ;;
esac
export FC=mpifort CC=mpicc CXX=mpicxx

module load ParaStationMPI/5.4
module load imkl
module load netCDF
module load netCDF-Fortran

export NETCDF_DIR=$EBROOTNETCDF
export NETCDFF_DIR=$EBROOTNETCDFMINFORTRAN
export NETCDF_Fortran_INCLUDE_DIRECTORIES=${NETCDFF_DIR}/include/
export NETCDF_C_INCLUDE_DIRECTORIES=${NETCDF_DIR}/include/
export NETCDF_CXX_INCLUDE_DIRECTORIES=${NETCDFCXX_DIR}/include/

# for profiling
module load Nsight-Systems/2021.1.1
