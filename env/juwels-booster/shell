##########
module --force purge    
module load StdEnv

BUILDTYPE=$(echo "${COMPILER:-intel}" | tr '[:upper:]' '[:lower:]')

case "$BUILDTYPE" in
    intel)
        module load Intel/2020.2.254-GCC-9.3.0
        ;;
    gnu)
        module load GCC/9.3.0
        ;;
    pgi)
        module load NVHPC/20.9-GCC-9.3.0
        ;;
esac

module load ParaStationMPI/5.4
export FC=mpifort CC=mpicc CXX=mpicxx

module load imkl
module load netCDF
module load netCDF-Fortran
module load CMake
export NETCDF_DIR=$EBROOTNETCDF
export NETCDFF_DIR=$EBROOTNETCDFMINFORTRAN
export NETCDF_Fortran_INCLUDE_DIRECTORIES=${NETCDFF_DIR}/include/
export NETCDF_C_INCLUDE_DIRECTORIES=${NETCDF_DIR}/include/
export NETCDF_CXX_INCLUDE_DIRECTORIES=${NETCDFCXX_DIR}/include/

